MODULE:

    unhappy with cookieparsing in cosign_auth().
    unhappy with cookie_valid/read_secant division. 

    TODO:
    cookie obscuring - post 1.0
    k5 needs ironing out

CGI:
    initial info and ticket propogation (belt)
    conf file
    get a ticket with the keytab
    screens
    service menu

COSIGND:
    replication (suspenders)
    more conf file

ISSUES:
1) use of qs for redirect back URL ( consistency ).
2) use of cookie to store referer - should we do qs instead?
3) service first experience
	a) show the service menu with source service highlighted
	b) redirect the user straight away ( no meta-refresh )
4) logout needs to post

Protocol:

cosign.cgi:
    LOGIN login_cookie ip princ realm "kerberos"
    LOGOUT login_cookie ip
    REGISTER login_cookie ip service_cookie
    CHECK login_cookie

mod_cosign:
    CHECK service_cookie
    RETRIEVE service_cookie ip tkt 

cosignd:
    POLL timestamp

everyone:
    STARTTLS
    NOOP: no op.
    QUIT: quit

Misc notes:

configuration files:


    cosignd: has a list ( in /usr/local/etc/cosign.conf? ) of
	    services, which tickets they can request.

    cosign.cgi: service menu top of site,
	    top of site policy, name of service for display ( e.g.
	    "Conferencing on the Web" ), name of service for cookies
	    minus cosign- ( e.g.  "cow" ), is include in service list?.

FILE FORMAT:

cosign=
v1.0
s<0/1>
i141.211.164.2
pcanna
rUMICH.EDU
t<secondssince1970>
[k<path_to_k5_tfile>]
#ifdef k4
[K<path_to_k4_tfile>] ( only on client )
#endif k4

cosign-service=
l<path_to_login_cookie>

conf file:
keyword[ cgi, daemon, service ], hostname[ subject dn ], get_tickets[ 0/1 ]
