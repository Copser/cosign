Some things to know:

make will build the apache filter only
make install will install the filter using apxs

make everything will build the filter, the daemon and the cgi
make install-all installs all :)

In order for the filter to work, you'll need a directory called 
	/var/cosign/filter

It must be permitted so the user that runs the webserver has write
permission to it.

you'll want to run something like this out of cron daily:

find /var/cosign -type f -mtime +1 -exec rm {} \;

It'll get rid of any files that have not been modified in the last day.

In the U of M environment, you'll want your directives to look like
this:

on your insecure side, and any dirs or locations you want exempt:

CosignProtected		Off

in :443 ( or otherwise https ) vhost

CosignProtected		On
CosignHostname		weblogin.umich.edu
CosignRedirect		https://weblogin.umich.edu/
( NOTE: trailing slash is required! The redirects won't work correctly
without it! )
CosignPostErrorRedirect https://cosign-test.www.umich.edu/post_error.html
CosignService		<send e-mail to cosign@umich.edu and we will assign>
CosignCrypto		<path to key> <path to cert> <path to CA directory>

[new in 0.9.x]
You'll now need a CA directory instead of just a CA. this is so we can
use umweb, verisign or entrust signed certs. Copy the CAs to your cadir
and issue the c_rehash command:
    % c_rehash /usr/local/etc/apache/certs
you should see something similar to:
    Doing /usr/local/etc/apache/certs
    umwebCA.pem => 4700e8dd.0
    RSA-SSCA.pem => f73e89fd.0
    entrust.pem => ed524cf5.0

Contact webmaster@umich.edu for umich CA certs, which are free!

The daemon (cosignd) requires  /var/cosign/daemon to exist and be
writeable by the user the daemon runs as.

--with-cosign-db=DIR overrides this default
--with-cosign-conf=FILE -> allows you to specify new conf file location
default is /usr/local/etc/cosign.conf

An init script will be included next time :)

Questions? cosign@umich.edu
